<!doctype html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title th:text="'ProffShop - детали товара ' + ${product.name}"></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/static/img/favicon.png">

    <!-- CSS 
    ========================= -->
    <!--bootstrap min css-->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <!--owl carousel min css-->
    <link rel="stylesheet" href="/static/css/owl.carousel.min.css">
    <!--slick min css-->
    <link rel="stylesheet" href="/static/css/slick.css">
    <!--magnific popup min css-->
    <link rel="stylesheet" href="/static/css/magnific-popup.css">
    <!--font awesome css-->
    <link rel="stylesheet" href="/static/css/font.awesome.css">
    <!--animate css-->
    <link rel="stylesheet" href="/static/css/animate.css">
    <!--jquery ui min css-->
    <link rel="stylesheet" href="/static/css/jquery-ui.min.css">
    <!--slinky menu css-->
    <link rel="stylesheet" href="/static/css/slinky.menu.css">
    <!--plugins css-->
    <link rel="stylesheet" href="/static/css/plugins.css">

    <!-- Main Style CSS -->
    <link rel="stylesheet" href="/static/css/style.css">

    <!--modernizr min js here-->
    <script src="/static/js/vendor/modernizr-3.7.1.min.js"></script>

</head>

<body>

<!--header area start-->

<!--offcanvas menu area start-->
<div class="off_canvars_overlay">

</div>
<div class="offcanvas_menu">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="canvas_open">
                    <a href="javascript:void(0)"><i class="icon-menu"></i></a>
                </div>
                <div class="offcanvas_menu_wrapper">
                    <div class="canvas_close">
                        <a href="javascript:void(0)"><i class="icon-x"></i></a>
                    </div>
                    <div class="search_container">
                        <form id="search-form1">
                            <div class="hover_category">
                                <select class="select_option" name="select" id="search-category1">
                                    <option selected value="0">Все категории</option>
                                    <option th:each="category:${categories}" th:value="${category.id}"
                                            th:text="${category.name}"></option>
                                </select>
                            </div>
                            <div class="search_box">
                                <input placeholder="Поиск товара..." type="text" id="search-text1"
                                       th:value="${query}">
                                <button type="submit" id="search-button1"><i class="icon-search"></i></button>
                            </div>
                        </form>
                    </div>
                    <div class="call-support">
                        <p>Тех. поддержка: <a></a></p>
                    </div>
                    <div id="menu" class="text-left ">
                        <ul class="offcanvas_main_menu">
                            <li class="menu-item-has-children">
                                <a href="/shop">Каталог</a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="/home/stocks">Акции</a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="/account">Личный кабинет</a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="/about">Контакты</a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="/faq">Частые вопросы</i></a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="/auth/login">Войти</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--offcanvas menu area end-->
<header>
    <div class="main_header">
        <div class="header_middle">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-3 col-md-3 col-4">
                        <div class="logo">
                            <a href="/home"><img src="/static/img/logo/logo-main.jpg" alt=""></a>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-6 col-6">
                        <div class="header_right_info">
                            <div class="search_container">
                                <form id="search-form">
                                    <div class="hover_category">
                                        <select class="select_option" name="select" id="search-category">
                                            <option selected value="0">Все категории</option>
                                            <option th:each="category:${categories}" th:value="${category.id}"
                                                    th:text="${category.name}"></option>
                                        </select>
                                    </div>
                                    <div class="search_box">
                                        <input placeholder="Поиск товара..." type="text" id="search-text">
                                        <button type="submit" id="search-button"><i class="icon-search"></i></button>
                                    </div>
                                </form>
                            </div>
                            <div class="header_account_area">
                                <div class="header_account-list top_links">
                                    <a href="/account"><i class="icon-users"></i></a>
                                </div>
                                <div class="header_account-list header_wishlist">
                                    <a href="/wishlist"><i class="icon-heart"></i><span class="item_count" style="display: none"></span></a>
                                </div>
                                <div class="header_account-list  mini_cart_wrapper">
                                    <a href="/cart"><i class="icon-shopping-bag"></i><span
                                            class="item_count" style="display: none;"></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header_bottom sticky-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-3">
                        <div class="categories_menu">
                            <div class="categories_title">
                                <h2 class="categori_toggle">Категории</h2>
                            </div>
                            <div class="categories_menu_toggle">
                                <ul>
                                    <!-- Итерируем по списку категорий -->
                                    <li class="menu_item_children" th:each="category : ${categories}">
                                        <a th:href="${'/shop?categoryId=' + category.id}" th:text="${category.name}"><i
                                                class="fa fa-angle-right"></i></a>
                                        <!-- Проверяем, есть ли у категории подкатегории -->
                                        <ul class="categories_mega_menu" th:if="${(category.subCategories.size() > 0)}">
                                            <!-- Итерируем по списку подкатегорий -->
                                            <ul>
                                                <li th:each="subCategory : ${category.subCategories}">
                                                    <a th:href="${'/shop?categoryId=' + subCategory.id}"
                                                       th:text="${subCategory.name}"></a>
                                                    <hr>
                                                </li>
                                            </ul>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <!--main menu start-->
                        <div class="main_menu menu_position">
                            <nav>
                                <ul>
                                    <li class="mega_items"><a href="/home">Главная</i></a>
                                    </li>
                                    <li class="mega_items"><a class="active" href="/shop">Каталог</i></a>
                                    </li>
                                    <li><a href="/home/stocks">Акции</i></a>
                                    </li>
                                    <li><a href="/about">Контакты</i></a>
                                    </li>
                                    <li><a href="/faq">Частые вопросы</i></a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <!--main menu end-->
                    </div>
                    <div class="col-lg-3">
                        <div class="call-support">
                            <p>Тех. поддержка: <a></a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<!--header area end-->

<!--breadcrumbs area start-->
<div class="breadcrumbs_area">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="breadcrumb_content">
                    <ul>
                        <li><a href="/shop">Каталог</a></li>
                        <li>Детали товара</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!--breadcrumbs area end-->

<!--product details start-->
<div class="product_details mt-100 mb-100">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6">
                <div class="product-details-tab">
                    <div id="img-1" class="zoomWrapper single-zoom">
                        <a href="#" th:data-zoom-image="@{'/products/' + ${product.getPhotos().get(0)}}">
                            <img id="zoom1" th:src="@{'/products/' + ${product.getPhotos().get(0)}}"
                                 alt="big-1">
                        </a>
                    </div>
                    <div class="single-zoom-thumb">
                        <ul class="s-tab-zoom owl-carousel single-product-active" id="gallery_01">
                            <li th:each="photo:${product.getPhotos()}">
                                <a href="#" class="elevatezoom-gallery active" data-update=""
                                   th:data-image="@{'/products/' + ${photo}}"
                                   th:data-zoom-image="@{'/products/' + ${photo}}">
                                    <img th:src="@{'/products/' + ${photo}}" alt="zo-th-1"/>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6">
                <div class="product_d_right">
                    <form action="#">
                        <h1><a href="#" th:text="${product.name}"></a></h1>
                        <div class="product_ratting">
                            <ul>
                                <li><a href="#"><i th:class="${product.averageRating > 0 ? 'icon-star2' : 'icon-star'}"></i></a></li>
                                <li><a href="#"><i th:class="${product.averageRating > 1 ? 'icon-star2' : 'icon-star'}"></i></a></li>
                                <li><a href="#"><i th:class="${product.averageRating > 2 ? 'icon-star2' : 'icon-star'}"></i></a></li>
                                <li><a href="#"><i th:class="${product.averageRating > 3 ? 'icon-star2' : 'icon-star'}"></i></a></li>
                                <li><a href="#"><i th:class="${product.averageRating > 4 ? 'icon-star2' : 'icon-star'}"></i></a></li>
                            </ul>
                        </div>
                        <div class="price_box">
                            <span class="current_price" th:if="${product.discount > 0}"
                                  th:text="${product.newPrice + 'сом'}"></span>
                            <span class="current_price" th:if="${not (product.discount > 0)}"
                                  th:text="${product.oldPrice + 'сом'}"></span>
                            <span class="old_price" th:if="${product.discount > 0}"
                                  th:text="${product.oldPrice + 'сом'}"></span>

                        </div>
                        <div class="product_desc">
                            <p th:text="${product.description}"></p>
                        </div>
                        <div class="product_variant group" th:if="${group.size() > 1}">
                            <label>Связанные товары</label>
                            <ul>
                                <li th:each="otherProduct: ${group}" th:style="'background:'+ ${otherProduct.color}"><a th:href="'/shop/productDetails?productId=' + ${otherProduct.id} "><img th:src="@{'/products/' + ${otherProduct.getPhotos().get(0)}}"></a></li>
                            </ul>
                            <hr>
                        </div>

                        <div class="product_variant color">
                            <h3>Свойства</h3>
                            <label th:text="'Цвет : ' + ${product.color}"></label>
                        </div>
                        <div class="product_variant size">
                            <label>Размеры</label>
                            <select th:if="${product.getProductVariationCount().size() > 0}" class="select_option" id="size" name="variationId">
                                <option th:disabled="${product.getProductVariationCount().get(productVariable) == 0}" th:value="${productVariable.id}" th:each="productVariable : ${product.getProductVariations()}" th:text="${productVariable.size + ' (' + product.getProductVariationCount().get(productVariable) + ' шт)'}"></option>
                            </select>
                        </div>
                        <div class="product_variant quantity" th:if="${product.available}">
                            <label>количество</label>
                            <input min="1" max="100" value="1" type="number" id="quantity">
                            <button class="button" th:classappend="${not product.available ? 'disabled':''}" type="submit" id="addToCart">в корзину</button>
                        </div>
                        <div class="product_variant quantity" th:if="${not product.available}">
                            <label>Нет на складе</label>
                        </div>
                        <div class="product_d_action">
                            <ul>
                                <li><a href="javascript:void(0)" id="addToWishlist" title="Add to wishlist">+ Добавить в избранное</a></li>
                                <div class="d-flex justify-content-center">
                                    <div class="spinner" id="spinner"></div>
                                </div>
                            </ul>
                        </div>
                        <div id="modal" class="modal">
                            <div class="modal-content">
                                <span class="close" id="closeModal">&times;</span>
                                <p id="modalMessage"></p>
                            </div>
                        </div>
                        <div class="product_meta" th:if="${product.category != null}">
                            <span>Категория: <a href="#" th:text="${product.category.name}"></a></span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!--product details end-->

<!--product info start-->
<div class="product_d_info mb-90">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="product_d_inner">
                    <div class="product_info_button">
                        <ul class="nav" role="tablist">
                            <li>
                                <a class="active" data-toggle="tab" href="#info" role="tab" aria-controls="info"
                                   aria-selected="false">Описание</a>
                            </li>
                            <li>
                                <a data-toggle="tab" href="#sheet" role="tab" aria-controls="sheet"
                                   aria-selected="false">Спецификации</a>
                            </li>
                            <li>
                                <a data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews"
                                   aria-selected="false">Отзывы</a>
                            </li>
                        </ul>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="info" role="tabpanel">
                            <div class="product_info_content">
                                <p th:text="${product.description}"></p>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="sheet" role="tabpanel">
                            <div class="product_d_table">
                                <form action="#">
                                    <table>
                                        <tbody>
                                        <tr th:each="specKey: ${product.specifications.keySet()}">
                                            <td class="first_child" th:text="${specKey}"></td>
                                            <td th:text="${product.specifications.get(specKey)}"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </form>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="reviews" role="tabpanel">
                            <div class="reviews_wrapper">
                                <h2 th:text="'Отзывы к продукту ' + ${product.name}"></h2>
                                <div class="reviews_comment_box" th:each="review:${reviews}">
                                    <div class="comment_text">
                                        <div class="reviews_meta">
                                            <div class="star_rating">
                                                <ul>
                                                    <li><a href="#"><i th:class="${review.mark >= 1 ? 'icon-star2': 'icon-star'}"></i></a></li>
                                                    <li><a href="#"><i th:class="${review.mark >= 2 ? 'icon-star2': 'icon-star'}"></i></a></li>
                                                    <li><a href="#"><i th:class="${review.mark >= 3 ? 'icon-star2': 'icon-star'}"></i></a></li>
                                                    <li><a href="#"><i th:class="${review.mark >= 4 ? 'icon-star2': 'icon-star'}"></i></a></li>
                                                    <li><a href="#"><i th:class="${review.mark >= 5 ? 'icon-star2': 'icon-star'}"></i></a></li>
                                                </ul>
                                            </div>
                                            <strong th:text="${review.username}"></strong>
                                            <p th:text="${review.date}"></p>
                                            <span th:text="${review.text}"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="comment_title">
                                    <h2>Написать отзыв</h2>
                                    <p>Чтобы оставить отзыв зарегистрируйтесь</p>
                                </div>
                                <div class="product_ratting mb-10">
                                    <h3>Ваша оценка</h3>
                                    <ul class="rating_stars">
                                        <li><a href="javascript:void(0)"><i class="icon-star"></i></a></li>
                                        <li><a href="javascript:void(0)"><i class="icon-star"></i></a></li>
                                        <li><a href="javascript:void(0)"><i class="icon-star"></i></a></li>
                                        <li><a href="javascript:void(0)"><i class="icon-star"></i></a></li>
                                        <li><a href="javascript:void(0)"><i class="icon-star"></i></a></li>
                                    </ul>
                                </div>
                                <div class="product_review_form">
                                    <form id="review_form" action="#">
                                        <div class="row">
                                            <div class="col-12">
                                                <label for="review_comment">Ваш отзыв</label>
                                                <textarea name="comment" id="review_comment"></textarea>
                                            </div>
                                            <input th:value="${product.id}" hidden id="productId">
                                        </div>
                                        <button type="submit" th:if="${authenticated}">Отправить</button>
                                        <label th:if="${!authenticated}">Only registered</label>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--product info end-->


<!--footer area start-->
<footer class="footer_widgets">
    <div class="footer_top">
        <div class="container">
            <div class="row">
                <div class="col-lg-2 col-md-4 col-sm-6">
                    <div class="widgets_container contact_us">
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="widgets_container widget_menu">
                        <h3>Информация</h3>
                        <div class="footer_menu">
                            <ul>
                                <li><a href="/about">Контакты</a></li>
                                <li><a href="/shop">Каталог</a></li>
                                <li><a href="/faq">Частые вопросы</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-5">
                    <div class="widgets_container widget_app">
                        <div class="footer_logo">
                            <a href="/home"><img src="/static/img/logo/logo1.png" alt=""></a>
                        </div>
                        <div>
                            <div class="justify-content-center d-flex mt-3">
                                <p class="copyright-text">&copy; 2023 <a href="/home">ProffShop</a>
                            </div>
                        </div>
                        <div>
                            <div class="widgets_container contact_us d-flex justify-content-center">
                                <p></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-sm-6">
                    <div class="widgets_container widget_menu">
                        <h3>Мой аккаунт</h3>
                        <div class="footer_menu">
                            <ul>
                                <li><a href="/account">Личный кабинет</a></li>
                                <li><a href="/cart">Корзина</a></li>
                                <li><a href="/wishlist">Избранное</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!--footer area end-->


<!-- JS
============================================ -->
<!--jquery min js-->
<script src="/static/js/vendor/jquery-3.4.1.min.js"></script>
<!--popper min js-->
<script src="/static/js/popper.js"></script>
<!--bootstrap min js-->
<script src="/static/js/jquery/bootstrap.min.js"></script>
<!--owl carousel min js-->
<script src="/static/js/owl.carousel.min.js"></script>
<!--slick min js-->
<script src="/static/js/slick.min.js"></script>
<!--magnific popup min js-->
<script src="/static/js/jquery/jquery.magnific-popup.min.js"></script>
<!--counterup min js-->
<script src="/static/js/jquery/jquery.counterup.min.js"></script>
<!--jquery countdown min js-->
<script src="/static/js/jquery/jquery.countdown.js"></script>
<!--jquery ui min js-->
<script src="/static/js/jquery/jquery.ui.js"></script>
<!--jquery elevatezoom min js-->
<script src="/static/js/jquery/jquery.elevatezoom.js"></script>
<!--isotope packaged min js-->
<script src="/static/js/jquery/isotope.pkgd.min.js"></script>
<!--slinky menu js-->
<script src="/static/js/slinky.menu.js"></script>
<!-- Plugins JS -->
<script src="/static/js/jquery/plugins.js"></script>
<script src="/static/js/products/productReview.js"></script>
<script src="/static/js/products/shopProductDetails.js"></script>
<script src="/static/js/general/generalInfo.js"></script>
<script src="/static/js/searchProduct.js"></script>


<!-- Main JS -->
<script src="/static/js/main.js"></script>


</body>

</html>
